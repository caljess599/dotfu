# determine DID range and run smartctl check on all disks; grep for status
# usage: megasmart
megasmart(){ 
	#get number of controllers
	CONTS=$(storcli show | grep "Number of Controllers" | rev | cut -c1)
	echo "Box has $CONTS controllers."
	#get high and low DIDs
	RANGE=$(for ((i=0; i<$CONTS; i++)); do showme $i; done | grep HDD | awk '{print $2}' | sort -g | awk 'NR==1 {print} END {print}')
	#determine min DID
	START=$(echo $RANGE | awk '{print $1}')
	#determine max DID
	END=$(echo $RANGE | awk '{print $2}')
	#run the check
	echo "DID range is: $START $END"
	for ((i=$START; i<=$END; i++)); do 
		for j in {a..f}; do 
			smartctl -a -d sat+megaraid,${i} /dev/sd${j} | grep "SMART overall-health self-assessment test result:"
		done
	done
}
